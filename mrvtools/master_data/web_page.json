[
 {
    "name": "user-registration",
    "owner": "Administrator",
    "creation": "2023-07-07 13:06:24.592419",
    "modified": "2024-07-30 11:18:06.877474",
    "modified_by": "Administrator",
    "docstatus": 0,
    "idx": 0,
    "title": "User Registration",
    "route": "user-registration",
    "dynamic_route": 0,
    "published": 1,
    "module": "Mrvtools",
    "content_type": "HTML",
    "dynamic_template": 0,
    "main_section_html": "<div style=\"padding-top: 45px;padding-bottom: 20px;background-color: #fff;box-shadow: var(--shadow-base);margin: 37px 20px 20px 20px;border-radius: 10px;\">\r\n<div style=\"text-align:center;\">\r\n    <img class=\"app-logo\" src=\"/assets/mrvtools/Flag_of_the_Solomon_Islands.png\">\r\n    <p class= \"create-account\">Create Account <a href=\"/files/National Climate Change Policy.pdf\" target=\"blank\"> <img src=\"/files/icons8-help-60.png\" style=\"width:18px\" float=\"right\"></a></p>\r\n</div>\r\n<div id=\"myForm\" style=\"margin:0px 25px\">\r\n\t\t\t\t<div class=\"form-layout\"><div class=\"form-message hidden\"></div><div class=\"form-page\"><div class=\"row form-section visible-section\"><div class=\"section-body\"><div class=\"form-column col-sm-12\">\r\n\t\t\t\t<form>\r\n\t\t\t\t<div class=\"frappe-control input-max-width has-error\" data-fieldtype=\"Data\" data-fieldname=\"user_name\">\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t<div class=\"clearfix\">\r\n\t\t\t\t\t\t<label class=\"control-label reqd\" style=\"padding-right: 0px;\">Name</label>\r\n\t\t\t\t\t\t<span class=\"help\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"control-input-wrapper\">\r\n\t\t\t\t\t\t<div class=\"control-input\"><input type=\"text\" autocomplete=\"off\" class=\"input-with-feedback form-control bold\" maxlength=\"140\" data-fieldtype=\"Data\" data-fieldname=\"user_name\" placeholder=\"\"></div>\r\n\t\t\t\t\t\t<div class=\"control-value like-disabled-input bold\" style=\"display: none;\"></div>\r\n\t\t\t\t\t\t<p class=\"help-box small text-muted\"></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"frappe-control input-max-width has-error\" data-fieldtype=\"Data\" data-fieldname=\"email_id\">\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t<div class=\"clearfix\">\r\n\t\t\t\t\t\t<label class=\"control-label reqd\" style=\"padding-right: 0px;\">E-mail ID</label>\r\n\t\t\t\t\t\t<span class=\"help\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"control-input-wrapper\">\r\n\t\t\t\t\t\t<div class=\"control-input\"><input type=\"text\" autocomplete=\"off\" class=\"input-with-feedback form-control bold\" maxlength=\"140\" data-fieldtype=\"Data\" data-fieldname=\"email_id\" placeholder=\"\"></div>\r\n\t\t\t\t\t\t<div class=\"control-value like-disabled-input bold\" style=\"display: none;\"></div>\r\n\t\t\t\t\t\t<p class=\"help-box small text-muted\"></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"frappe-control input-max-width has-error\" data-fieldtype=\"Data\" data-fieldname=\"contact_number\">\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t<div class=\"clearfix\">\r\n\t\t\t\t\t\t<label class=\"control-label reqd\" style=\"padding-right: 0px;\">Contact Number</label>\r\n\t\t\t\t\t\t<span class=\"help\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"control-input-wrapper\">\r\n\t\t\t\t\t\t<div class=\"control-input\"><input type=\"text\" autocomplete=\"off\" class=\"input-with-feedback form-control bold\" maxlength=\"140\" data-fieldtype=\"Data\" data-fieldname=\"contact_number\" placeholder=\"\"></div>\r\n\t\t\t\t\t\t<div class=\"control-value like-disabled-input bold\" style=\"display: none;\"></div>\r\n\t\t\t\t\t\t<p class=\"help-box small text-muted\"></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\t    \r\n\t\t\t\t<div class=\"frappe-control input-max-width has-error\" data-fieldtype=\"Select\" data-fieldname=\"role\">\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t<div class=\"clearfix\">\r\n\t\t\t\t\t\t<label class=\"control-label reqd\" style=\"padding-right: 0px;\">Role</label>\r\n\t\t\t\t\t\t<span class=\"help\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"control-input-wrapper\">\r\n\t\t\t\t\t\t<div class=\"control-input flex align-center\"><select type=\"text\" autocomplete=\"off\" class=\"input-with-feedback form-control ellipsis bold\" maxlength=\"140\" data-fieldtype=\"Select\" data-fieldname=\"role\" placeholder=\"\"><option value=\" \"></option><option value=\"User\">User</option><option value=\"Approver\">Approver</option><option value=\"Observer\">Observer</option><option value=\"External Observer\">External Observer</option></select><div class=\"select-icon \">\r\n\t\t\t\t<svg class=\"icon  icon-sm\" style=\"\">\r\n\t\t\t<use class=\"\" href=\"#icon-select\"></use>\r\n\t\t</svg>\r\n\t\t\t</div></div>\r\n\t\t\t\t\t\t<div class=\"control-value like-disabled-input bold\" style=\"display: none;\"></div>\r\n\t\t\t\t\t\t<p class=\"help-box small text-muted\"></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div></form>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class=\"col-sm-12\">\r\n\t\t\t    <form>\r\n\t\t\t        <div width=\"100%\" style=\"display:flex;justify-content: space-around;flex-wrap: wrap;\">\r\n\t\t\t            <div id=\"GHGDiv\" style=\"display:none;padding:15px;float:left\">\r\n\t\t\t\t        <p>GHG</p>\r\n  <div class=\"form-group frappe-control input-max-width\" data-fieldtype=\"Check\" data-fieldname=\"GHG\">\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"Energy\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"GHG\"></span>\r\n        <span class=\"label-area\">Energy</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"IPPU\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"GHG\"></span>\r\n        <span class=\"label-area\">IPPU</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"Agriculture\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"GHG\"></span>\r\n        <span class=\"label-area\">Agriculture</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"Land Use\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"GHG\"></span>\r\n        <span class=\"label-area\">Land Use</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n       <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"Waste\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"GHG\"></span>\r\n        <span class=\"label-area\">Waste</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n       <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"Other\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"GHG\"></span>\r\n        <span class=\"label-area\">Other</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n  </div>\r\n  </div>\r\n  \r\n  <div id = \"ProjectTrackingDiv\" style=\"display:none;padding:15px;float:left\">\r\n\t\t    <p>Project Tracking</p>\r\n  <div class=\"form-group frappe-control input-max-width\" data-fieldtype=\"Check\" data-fieldname=\"Project Tracking\">\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"Mitigation Tracking\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"Project Tracking\"></span>\r\n        <span class=\"label-area\">Mitigation Tracking</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"Adaptation Tracking\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"Project Tracking\"></span>\r\n        <span class=\"label-area\">Adaptation Tracking</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"Climate Finance\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"Project Tracking\"></span>\r\n        <span class=\"label-area\">Climate Finance</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"SDG Tracking\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"Project Tracking\"></span>\r\n        <span class=\"label-area\">SDG Tracking</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n  </div>\r\n  </div>\r\n\r\n\r\n<div id=\"ReportsDiv\" style=\"display:none;padding:15px;float:left\">\r\n\t\t    <p>Reports</p>\r\n\t<div style=\"display:flex;\">\r\n    <div>\r\n  <div class=\"form-group frappe-control input-max-width\" data-fieldtype=\"Check\" data-fieldname=\"Reports\" style=\"float: left;\">\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"Mitigation Report\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"Reports\"></span>\r\n        <span class=\"label-area\">Mitigation Report</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"Adaptation Report\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"Reports\"></span>\r\n        <span class=\"label-area\">Adaptation Report</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"Climate Finance Report\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"Reports\"></span>\r\n        <span class=\"label-area\">Climate Finance Report</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"SDG Report\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"Reports\"></span>\r\n        <span class=\"label-area\">SDG Report</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    </div>\r\n        <div style=\"padding: 0px 0px 0px 15px;float: right;\">\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"Project MRV Report\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"Reports\"></span>\r\n        <span class=\"label-area\">Project MRV Report</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"NDC Tracking Report\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"Reports\"></span>\r\n        <span class=\"label-area\">NDC Tracking Report</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    <div class=\"checkbox\">\r\n      <label>\r\n        <span class=\"input-area\"><input value=\"GHG Inventory Report\" type=\"checkbox\" autocomplete=\"off\" class=\"input-with-feedback\" data-fieldtype=\"Check\" name=\"Reports\"></span>\r\n        <span class=\"label-area\">GHG Inventory Report</span>\r\n        <span class=\"ml-1 help\"></span>\r\n      </label>\r\n    </div>\r\n    </div>\r\n\r\n    </div>\r\n    \r\n    </div>\r\n    \r\n  </div>\r\n  </div>\r\n</form>\r\n\t\t\t</div>\r\n\t\t\t\r\n\r\n\t\t\t\r\n\t\t\t</div></div><div class=\"row form-section empty-section\"><div class=\"section-body\"></div></div></div></div>\r\n    \t<div style=\"text-align:center; padding-bottom:10px;padding-top: 15px;\">\r\n    \t\t\t<!-- discard button -->\r\n    \t\t\t<!--<button class=\"discard-btn btn btn-default btn-sm\">Discard</button>-->\r\n    \t\t\t<!-- submit button -->\r\n    \t\t\t<button id=\"submit_btn\" type=\"submit\" class=\"submit-btn btn btn-primary btn-sm ml-2\">Create Account</button>\r\n    \t</div>\r\n</div>\r\n</div>",
    "javascript": "$('.web-footer').remove()\n$('[id=\"navbarSupportedContent\"]').prepend('<p class=\"heading-main\" data-v-2dd66c2c=\"\" style=\"    color: rgb(0, 0, 0);font-weight: 700;font-size: 20px;font-family: sans-serif;display: flex;line-height: 1.5;align-items: start;justify-content: start !important;margin-bottom: 0px !important;\"> SOLOMON ISLANDS iMRV TOOL <span data-v-2dd66c2c=\"\" style=\"color: green; margin: 0px 0px 0px 7px;\">FOR CLIMATE ACTIONS</span></p>')\n$(\"[data-fieldname='role']\").on(\"change\",function(){\n    if($(this).val() == \"Observer\"){\n        $(\"[id = 'ReportsDiv']\").show();\n        $(\"[id = 'GHGDiv']\").hide();\n        $(\"[id = 'ProjectTrackingDiv']\").hide();\n        $('div[data-fieldname=\"role\"] [class=\"help-box small text-muted\"]').prop(\"innerText\",\"\")\n    }\n    if($(this).val() == \"External Observer\"){\n        $('div[data-fieldname=\"role\"] [class=\"help-box small text-muted\"]').prop(\"innerText\",\"Only dashboard view access\")\n        $(\"[id = 'GHGDiv']\").hide();\n        $(\"[id = 'ProjectTrackingDiv']\").hide();\n        $(\"[id = 'ReportsDiv']\").hide();\n    }\n    if($(this).val() == \"User\" || $(this).val() == \"Approver\"){\n        $('div[data-fieldname=\"role\"] [class=\"help-box small text-muted\"]').prop(\"innerText\",\"\")\n        $(\"[id = 'GHGDiv']\").show();\n        $(\"[id = 'ProjectTrackingDiv']\").show();\n        $(\"[id = 'ReportsDiv']\").show();\n    }\n    if($(this).val() == \" \"){\n        $('div[data-fieldname=\"role\"] [class=\"help-box small text-muted\"]').prop(\"innerText\",\"\")\n        $(\"[id = 'GHGDiv']\").hide();\n        $(\"[id = 'ProjectTrackingDiv']\").hide();\n        $(\"[id = 'ReportsDiv']\").hide();\n    }\n});\n$('input[data-fieldname=\"confirm_password\"]').on(\"change\",function(){\n    if($('input[data-fieldname=\"password\"]').val() != $('input[data-fieldname=\"confirm_password\"]').val()){\n        $('input[data-fieldname=\"confirm_password\"]').val('')\n        frappe.throw(\"Confirm Password does not matches with Password\")\n    }\n    else if($('input[data-fieldname=\"password\"]').val() == ''){\n        $('input[data-fieldname=\"confirm_password\"]').val('')\n        frappe.throw(\"Password is empty\")\n    }\n})\n$( document ).ready(function() {\n    $(\"[id = 'GHGDiv']\").hide()\n    $(\"[id = 'ProjectTrackingDiv']\").hide()\n    $(\"[id = 'ReportsDiv']\").hide()\n});\n\n$(\"[id = 'submit_btn']\").click(function(){\n    \n     var formData = {\"GHG\":[],\"Project Tracking\":[],\"Reports\":[]};\n     \n    $('[data-fieldname]').each(function() {\n      var fieldName = $(this).attr('data-fieldname');\n      var value = $(this).val();\n      formData[fieldName] = value;\n    });\n    \n    \n    $(\"[type='checkbox']\").each(function(){\n        var fieldName = $(this).attr('name');\n        var value = $(this).attr(\"value\");\n        if($(this).prop(\"checked\")){\n            if (Array.isArray(formData[fieldName])) {\n                formData[fieldName].push(value);\n            } else {\n                formData[fieldName] = [value];\n            }\n        }\n    });\n    \n        // Output the form data\n    // $(\"[id = 'submit_btn']\").css(\"pointer-events\", \"none\")\n    frappe.call({\n        method:\"mrvtools.mrvtools.doctype.user_registration.user_registration.createUser\",\n        args:{\"formData\":formData},\n        callback:function(r){\n            frappe.show_alert(r.message.message, 3)\n            setTimeout(() => {\n                location.reload()\n\t\t\t}, 2000);\n        }\n    });\n    \n    \n});\n\n// $(\"[class='modal-dialog modal-dialog-scrollable msgprint-dialog']\").on(\"close\",function(){\n//     window.location.pathname=\"/user-registration\"\n// })",
    "insert_style": 1,
    "text_align": "Left",
    "css": ".page_content{\n    padding:0px 200px;\n}\n.page-content-wrapper{\n\t\t\tbackground-image:url(/assets/mrvtools/login-bgimg.png);\n\t\t\tbackground-size: 100% 100%;\n\t\t\theight:150%;\n\t\t\tbackground-repeat: no-repeat;\n\t\t}\n\n.create-account{\n    font-size:24px;\n    font-weight:600;\n}\n.app-logo{\n    max-height: 42px;\n}\n#page-user-registration{\n    height:90%;\n}\n",
    "full_width": 1,
    "show_title": 0,
    "show_sidebar": 0,
    "enable_comments": 0,
    "doctype": "Web Page"
}
]